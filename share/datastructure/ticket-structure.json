{
  "ticketForm": {
    "eventInfo": {
      "eventTitle": {
        "type": "string",
        "required": true,
        "description": "活动名称",
        "source": "eventForm.title",
        "fallback": "请先填写主题"
      },
      "eventTime": {
        "type": "string",
        "required": true,
        "description": "活动时间",
        "source": "formatStartDateTime()",
        "format": "YYYY/MM/DD HH:mm"
      },
      "eventLocation": {
        "type": "string",
        "required": false,
        "description": "活动地点",
        "source": "eventForm.location",
        "fallback": "请先填写地点"
      }
    },
    "ticketDetails": {
      "ticketPrice": {
        "type": "number",
        "required": true,
        "description": "票价",
        "placeholder": "请输入票价",
        "min": 0,
        "precision": 2,
        "currency": "CNY"
      },
      "ticketQuantity": {
        "type": "number",
        "required": true,
        "description": "购买数量",
        "default": 1,
        "min": 1,
        "max": 99
      },
      "totalAmount": {
        "type": "number",
        "computed": true,
        "description": "总计金额",
        "formula": "ticketPrice * ticketQuantity",
        "format": "currency",
        "precision": 2
      }
    },
    "uiState": {
      "showTicketPage": {
        "type": "boolean",
        "description": "是否显示购票弹窗",
        "default": false
      }
    }
  },
  "ticketPurchaseData": {
    "orderId": {
      "type": "string",
      "required": true,
      "description": "订单ID",
      "autoGenerate": "uuid"
    },
    "eventId": {
      "type": "number",
      "required": true,
      "description": "关联的事件ID"
    },
    "eventTitle": {
      "type": "string",
      "required": true,
      "description": "活动名称"
    },
    "eventTime": {
      "type": "string",
      "required": true,
      "description": "活动时间",
      "format": "YYYY/MM/DD HH:mm"
    },
    "eventLocation": {
      "type": "string",
      "required": false,
      "description": "活动地点"
    },
    "ticketPrice": {
      "type": "number",
      "required": true,
      "description": "单价",
      "min": 0,
      "precision": 2
    },
    "quantity": {
      "type": "number",
      "required": true,
      "description": "购买数量",
      "min": 1
    },
    "totalAmount": {
      "type": "number",
      "required": true,
      "description": "总金额",
      "precision": 2
    },
    "purchaseTime": {
      "type": "string",
      "required": true,
      "description": "购买时间",
      "format": "ISO8601",
      "autoGenerate": "timestamp"
    },
    "status": {
      "type": "string",
      "required": true,
      "description": "订单状态",
      "default": "pending",
      "options": [
        { "value": "pending", "label": "待支付" },
        { "value": "paid", "label": "已支付" },
        { "value": "cancelled", "label": "已取消" },
        { "value": "refunded", "label": "已退款" }
      ]
    },
    "paymentMethod": {
      "type": "string",
      "required": false,
      "description": "支付方式",
      "options": [
        { "value": "wechat", "label": "微信支付" },
        { "value": "alipay", "label": "支付宝" },
        { "value": "unionpay", "label": "银联支付" }
      ]
    },
    "customerInfo": {
      "name": {
        "type": "string",
        "required": false,
        "description": "购买者姓名",
        "maxLength": 50
      },
      "phone": {
        "type": "string",
        "required": false,
        "description": "联系电话",
        "pattern": "^1[3-9]\\d{9}$"
      },
      "email": {
        "type": "string",
        "required": false,
        "description": "邮箱地址",
        "format": "email"
      }
    }
  },
  "ticketOperations": {
    "quantityControl": {
      "increase": {
        "action": "increaseQuantity",
        "description": "增加购买数量",
        "validation": "quantity < maxQuantity"
      },
      "decrease": {
        "action": "decreaseQuantity",
        "description": "减少购买数量",
        "validation": "quantity > 1"
      }
    },
    "modalControl": {
      "show": {
        "action": "showTicketModal",
        "description": "显示购票弹窗"
      },
      "hide": {
        "action": "hideTicketModal",
        "description": "隐藏购票弹窗"
      }
    },
    "purchase": {
      "action": "purchaseTicket",
      "description": "确认购买",
      "validation": [
        { "field": "ticketPrice", "rule": "required", "message": "请输入票价" },
        { "field": "ticketPrice", "rule": "min", "value": 0.01, "message": "票价必须大于0" },
        { "field": "ticketQuantity", "rule": "min", "value": 1, "message": "购买数量至少为1" }
      ],
      "successMessage": "购买成功！总计：¥{totalAmount}"
    }
  }
}
